<ng-template #itemTemplate let-item="item.value" let-index="index">
  <div nz-col  nzSpan="24" class="field_edit">
    <div nz-col  nzSpan="2">{{index + 1}}</div>
    <div nz-col  nzSpan="5">
      {{item.fieldType}}
    </div>
    <div nz-col  nzSpan="6">
      {{item.fieldKey}}
    </div>
    <div nz-col  nzSpan="7">
      {{item.fieldValue}}
    </div>
    <div nz-col  nzSpan="4">
      <div nz-col  nzSpan="12">
        <button nz-button nzType="primary" (click)="showModel(item)">
          <i class="anticon anticon-edit" ></i>
        </button>
      </div>
      <div nz-col  nzSpan="12">
        <button nz-button nzType="primary" nz-popconfirm
                nzTitle="确认删除" nzOkText="确认" nzCancelText="取消"
                (nzOnConfirm)="deleteField(item)"
        ><i class="anticon anticon-delete"></i>
        </button>
      </div>
    </div>
  </div>
</ng-template>

<div nz-row>
  <div nz-col nzSpan="24" class="field_table">
    <div nz-col  nzSpan="24" class="field_table_header">
      <div nz-col  nzSpan="2">
        序号
      </div>
      <div nz-col  nzSpan="5">
        表头
      </div>
      <div nz-col  nzSpan="6">
        字段类型
      </div>
      <div nz-col  nzSpan="7">
        字段值
      </div>
      <div nz-col  nzSpan="4" style="    padding-right: 5px;">
        操作
      </div>
    </div>
    <div nz-col  nzSpan="24" class="field_table_body">
      <bs-sortable
        (onChange) = "onChangeSorTable($event)"
        [(ngModel)]="itemObjectsLeft"
        [itemTemplate]="itemTemplate"
        itemClass="sortable-item"
        itemActiveClass="sortable-item-active"
        placeholderItem="Drag here"
        placeholderClass="placeholderStyle"
        wrapperClass="sortable-wrapper"
      ></bs-sortable>
      <!--<pre class="code-preview">model: {{ itemObjectsLeft | json }}</pre>-->
    </div>
  </div>
</div>


<nz-modal [nzMaskClosable]="false"
          [(nzVisible)]="isVisible" [nzTitle]="modalTitle"
          [nzContent]="modalBody" [nzFooter]="modalFooter"
          (nzOnCancel)="handleCancel()">
  <ng-template #modalTitle>
    <h3 style="margin-bottom:0">编辑字段</h3>
  </ng-template>
  <ng-template #modalBody>
    <nz-demo-mention-preview></nz-demo-mention-preview>
  </ng-template>
  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="handleCancel()">取消</button>
    <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="">确认</button>
  </ng-template>
</nz-modal>
